datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
    directUrl= env("DATABASE_DIRECT_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
    id          String      @id @default(uuid())
    email       String   @unique
    firstName   String   
    lastName    String
    avatar      String?
    role        Role     @default(USER)
    applications Application[]
    projects    Project[]
    authProvider AuthProvider @default(EMAIL)
    password    String?
}

model Application {
    id              String      @id @default(uuid())
    gender          String
    pronous         String
    age             Int
    ethnicity       String
    gradYear        Int
    phoneNumber     String   @unique
    school          String
    city            String
    state           String
    country         String
    educationLevel  String
    major           String
    diet            String
    shirtSize       String
    sleep           Boolean
    github          String
    linkedin        String
    portfolio       String
    whyBostonhacks  String
    applicationYear Int
    user            User     @relation(fields: [userId], references: [id])
    userId          String
    status          Status   @default(PENDING)
}

model Project {
    id              String     @id @default(uuid())
    name            String
    description     String 
    repositoryUrl   String
    technologies    String[]
    year            Int
    members         User[] 
    track           String?
    demoUrl         String?
    devpostUrl      String?
    teamName        String
    isWinner        Boolean @default(false)
    prizeWon        String?
    placement       Int?    // placement of project (1, 2, 3, ...)
    // possibly add points here

}


enum Role {
    USER
    ADMIN
}

enum Status {
    PENDING
    ACCEPTED
    WAITLISTED
    REJECTED
}

enum AuthProvider {
    EMAIL
    FACEBOOK
    GOOGLE
}
